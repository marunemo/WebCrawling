웹 크롤링(Web Crawling)
===

> 소프트웨어 프로그램을 통해 웹 사이트에 자동으로 접속하여 해당 데이터를 얻는 기술

## 웹 크롤링의 사용

월드 와이드 웹(WWW)의 데이터를 조직적이고, 체계적이며, 자동화된 방식으로 탐색하는 기술을 의미한다.
월드 와이드 웹을 기어다닌다(crawl)는 뉘앙스로 인해 스파이더(spider)라고도 불리며, 자동화된 형태로 통용되기 때문에 스파이더 봇이나 웹 크롤러 봇과 같이 뒤에 봇(bot)이라는 단어를 붙이기도 한다.
일반적으로 각종 사이트에서의 검색 엔진에 이용되며, 웹 크롤링을 통해 얻어진 데이터에 검색 알고리즘을 적용하여 사용자의 검색 질의에 대한 응답으로 관련 링크를 제공하는 형태로 주로 사용된다.
검색 엔진에서의 크롤링 봇은 웹 컨텐츠와 다른 웹 컨텐츠의 인덱스를 크롤링하여, 그 다운로드된 데이터를 복사하여 다른 유저들이 효율적으로 검색을 할 수 있도록 한다. 
조사에 따르면, 전체 인터넷의 40~70% 가량이 검색을 위해 인덱싱되며, 이는 수십억 개의 웹페이지에 해당하는 정보량이라고 한다.

## 웹 크롤러의 작동 원리

seed나 크롤링할 URL 목록을 받는 것으로 시작하여, 해당 URL의 웹사이트를 크롤링하여 데이터를 추출해낸다.
해당 웹사이트를 크롤링하는 중에 다른 하이퍼링크를 찾아내면, 크롤링할 URL 목록에 해당 링크를 추가한다.
이러한 과정이 반복되면 그 목록의 항목은 무한히 늘어날 수 있다.
때문에, 크롤링할 URL의 목록을 선택하기 위해, 대상, 목적, 업데이트 빈도 등에 따른 정책을 설정하게 된다.

### 웹 크롤러의 사용 정책 및 방법

- ### 각 페이지의 상대적인 중요성에 따라
앞서 말했듯이, 웹 크롤러를 사용할 때에 모든 웹 사이트를 탐색하는 것은 상당히 무리가 있다.
탐색할 사이트가 무한에 가까울 정도로 많을 수 있고, 그렇게 찾아낸 페이지가 모두 필요한 페이지가 아닐 가능성이 높다.
이를 방지하기 위해, 페이지를 얼마나 탐색할 것인지, 어떤 중요한 정보를 포함하고, 해당 정보를 포함할 가능성은 어느 정도일지 등에 따라 해당 페이지를 크롤링할지를 결정해야 한다.

- ### 업데이트 빈도에 따라
사이트에 따라 다르겠지만, 포털 사이트를 비롯한 거대한 웹사이트의 경우 그 웹의 컨텐츠가 주기적으로 추가, 수정, 삭제된다.
때문에, 주기적으로 웹사이트를 크롤링하여 해당 정보가 갱신되었는 지 등에 따라 컨텐츠를 최신화할 필요가 있다.

- ### **Robots.txt**에 따라
Robots Exclusion Protocol이라고도 불리며, 해당 텍스트 파일에 따라 어떤 페이지를 크롤링할 지에 대해 결정한다.
웹 크롤러들은 웹페이지를 탐색하기 전에 웹 서버로부터 호스팅 되는 이 Robots.txt 텍스트 파일을 확인하게 된다.
이는 즉, 웹 사이트나 프로그램에 액세스하는 크롤링 봇들에 대해 데이터를 얻을 수 있는 지 없는 지에 대한 규칙을 정해주는 일종의 윤리인 셈이다.

  - #### 서버 개발자의 관점에서의 웹 크롤링
  웹 크롤러가 웹 컨텐츠들을 인덱싱하기 위해서는 서버에 리소스를 요청(request)해야 한다.
  그러나 요청되는 데이터의 양이 너무 많거나 리소스를 너무 빈번하게 요청하게 되면, 서버에 과부하가 걸리거나 서버에 부담되는 대역폭에 따른 비용(bandwidth cost)이 커지게 된다.
  따라서 서버나 웹을 운영하는 입장에서는 이러한 상황을 막기 위해, 일반적으로 웹 크롤러의 컨텐츠 인덱싱을 너무 자주 허용하지 않도록 설정한다.

  게다가 몇몇 개발자가 기업의 입장에서는 일부 웹페이지를 크롤링하는 것을 꺼려할 수 있다.
  때문에 사람들에 맞는 메세지를 제공하거나 페이지 검색 성능을 강화하기 위해, robots.txt 파일에 **"disallow"** 태그를 추가하는 등의 방법으로 검색 엔진과 같은 웹 크롤러가 해당 페이지를 크롤링하지 않도록 하게 된다.

  - #### 웹 스크래핑
  웹 스크래핑은 크롤러를 사용하여 허가 없이 웹사이트의 컨텐츠를 다운로드하는 경우를 의미하며, 데이터 스크래핑이나 컨텐츠 스크래핑이라고도 불린다.
  허가를 받지 않기 때문에 정보 윤리의 관점에서도 문제가 되지만, 일반적으로 웹 스크래핑은 해당 컨텐츠를 악의적인 목적으로 이용하려는 경우가 많기 때문에 주의해야 한다.
  페이지에 연결된 링크들을 따라가며 컨텐츠를 받아오는 웹 크롤링과 달리, 웹 스크래핑은 특정 페이지나 웹사이트만을 추적하는 형태로도 나타난다.
  뿐만 아니라, 웹 크롤러는 robots.txt 파일의 규칙을 준수하며 웹 서버에 부담이 되지 않는 선에서 요청을 하지만, 웹 스크래핑은 이러한 웹 서버에 대한 규칙과 영향을 무시하는 경우도 포함한다.

---

[참고]
https://www.cloudflare.com/learning/bots/what-is-a-web-crawler/
https://en.wikipedia.org/wiki/Web_crawler